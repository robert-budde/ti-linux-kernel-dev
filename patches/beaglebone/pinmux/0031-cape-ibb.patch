From 4d8171bdb7e216ff1774c1e2b0c800811773e41a Mon Sep 17 00:00:00 2001
From: Robert Budde <robert.budde@ing-budde.de>
Date: Mon, 2 Mar 2015 07:17:27 +0100
Subject: [PATCH] add ibb 00a0

---
 arch/arm/boot/dts/am335x-bone-ibb.dtsi | 85 ++++++++++++++++++++++++++++++++++
 1 file changed, 85 insertions(+)
 create mode 100644 arch/arm/boot/dts/am335x-bone-ibb.dtsi

diff --git a/arch/arm/boot/dts/am335x-bone-ibb.dtsi b/arch/arm/boot/dts/am335x-bone-ibb.dtsi
new file mode 100644
index 0000000..c7c2594
--- /dev/null
+++ b/arch/arm/boot/dts/am335x-bone-ibb.dtsi
@@ -0,0 +1,85 @@
+/*
+ * Copyright (C) 2015 IBB Robert Budde - http://www.ing-budde.de/
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+&ocp {
+	P9_15_pinmux {
+		/* gpio1[16] */
+		status = "disabled";
+	};
+};
+
+/ {
+	gpio_keys {
+		compatible = "gpio-keys";
+		pinctrl-names = "default";
+		pinctrl-0 = <&P9_15_gpio_pu_pin>;
+
+		#address-cells = <1>;
+		#size-cells = <0>;
+
+		rtc_mfp@1 {
+			label = "rtc_mfp";
+			gpios = <&gpio1 16 GPIO_ACTIVE_HIGH>;
+			linux,code = <143>; /* System Wake Up */
+			gpio-key,wakeup;
+		};
+	};
+};
+
+&i2c2 {
+  /* overwrite clock freq */
+	clock-frequency = <400000>;
+
+	/* DS3232 RTC module */
+	rtc@68 {
+		compatible = "maxim,ds3231";
+		reg = <0x68>;
+	};
+
+  /* PCA9546 I2C multiplexer */
+  i2cmux@70 {
+    compatible = "nxp,pca9546";
+    #address-cells = <1>;
+    #size-cells = <0>;
+    reg = <0x70>;
+
+    bus@0 {
+      compatible = "nxp,pca954x-bus";
+      #address-cells = <1>;
+      #size-cells = <0>;
+      reg = <0>;
+      nxp,adapter-id = <0x3>;
+      nxp,deselect-on-exit;
+    };
+    bus@1 {
+      compatible = "nxp,pca954x-bus";
+      #address-cells = <1>;
+      #size-cells = <0>;
+      reg = <1>;
+      nxp,adapter-id = <0x4>;
+      nxp,deselect-on-exit;
+    };
+    bus@2 {
+      compatible = "nxp,pca954x-bus";
+      #address-cells = <1>;
+      #size-cells = <0>;
+      reg = <2>;
+      nxp,adapter-id = <0x5>;
+      nxp,deselect-on-exit;
+    };
+    bus@3 {
+      compatible = "nxp,pca954x-bus";
+      #address-cells = <1>;
+      #size-cells = <0>;
+      reg = <3>;
+      nxp,adapter-id = <0x6>;
+      nxp,deselect-on-exit;
+    };
+  };
+
+};
-- 
1.9.1

